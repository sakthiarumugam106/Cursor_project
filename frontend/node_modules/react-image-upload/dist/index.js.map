{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["/* eslint-disable prettier/prettier */\n/* eslint-disable no-unused-vars */\nimport React, { useState, useRef } from 'react'\nimport styles from './styles.module.css'\n\nconst ImageUploader = ({\n  onFileAdded,\n  onFileRemoved,\n  uploadElement,\n  height,\n  width,\n  background\n}) => {\n  const ref = useRef()\n  const [currentImg, setCurrentImg] = useState({})\n\n  const handleImageUpload = (e) => {\n    if (e.target.files.length > 0) {\n      const imageObject = {\n        file: e.target.files[0],\n        dataUrl: URL.createObjectURL(e.target.files[0])\n      }\n      setCurrentImg((oldImage) => {\n        return { ...oldImage, ...imageObject }\n      })\n      if (onFileAdded) onFileAdded(currentImg)\n    }\n  }\n\n  const handleDeleteImage = () => {\n    if (onFileRemoved) onFileRemoved(currentImg)\n    ref.current.files = null\n    ref.current.value = ''\n    setCurrentImg({})\n  }\n  return (\n    <div className={styles.__content}>\n      {/* button wrapper */}\n      <div\n        className={styles.__imgWrapper}\n        style={{ height: height, width: width, background: background }}\n      >\n        <div className={styles.__btnWrapper}>\n          <button className={styles.__btn} onClick={handleDeleteImage}>\n            <svg\n              xmlns='http://www.w3.org/2000/svg'\n              width='20'\n              height='20'\n              viewBox='0 0 24 24'\n              fill='#848484'\n            >\n              <path d='M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm7 14h-14v-4h14v4z' />\n            </svg>\n          </button>\n        </div>\n\n        {/* upload Input Box */}\n        <label className={styles.__label}>\n          <UploadElement element={uploadElement} />\n          {currentImg.dataUrl ? (\n            <React.Fragment />\n          ) : (\n            <input\n              key={currentImg}\n              ref={ref}\n              type='file'\n              name='upload'\n              className={styles.__input}\n              onChange={handleImageUpload}\n              accept='image/*'\n              id='upload'\n            />\n          )}\n        </label>\n        {/* image */}\n        {currentImg.dataUrl ? (\n          <img\n            className={styles.__img}\n            src={currentImg?.dataUrl}\n            alt={currentImg?.dataUrl}\n            loading='lazy'\n          />\n        ) : (\n          <React.Fragment />\n        )}\n      </div>\n    </div>\n  )\n}\n\nfunction UploadElement({ element }) {\n  if (element) {\n    return <React.Fragment>{element}</React.Fragment>\n  }\n  return (\n    <svg\n      width='50'\n      height='50'\n      viewBox='0 0 50 50'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        d='M8.33332 8.33332H14.5833L18.75 4.16666H31.25L35.4167 8.33332H41.6667C42.7717 8.33332 43.8315 8.77231 44.6129 9.55371C45.3943 10.3351 45.8333 11.3949 45.8333 12.5V37.5C45.8333 38.6051 45.3943 39.6649 44.6129 40.4463C43.8315 41.2277 42.7717 41.6666 41.6667 41.6666H8.33332C7.22825 41.6666 6.16845 41.2277 5.38704 40.4463C4.60564 39.6649 4.16666 38.6051 4.16666 37.5V12.5C4.16666 11.3949 4.60564 10.3351 5.38704 9.55371C6.16845 8.77231 7.22825 8.33332 8.33332 8.33332ZM25 14.5833C22.2373 14.5833 19.5878 15.6808 17.6343 17.6343C15.6808 19.5878 14.5833 22.2373 14.5833 25C14.5833 27.7627 15.6808 30.4122 17.6343 32.3657C19.5878 34.3192 22.2373 35.4167 25 35.4167C27.7627 35.4167 30.4122 34.3192 32.3657 32.3657C34.3192 30.4122 35.4167 27.7627 35.4167 25C35.4167 22.2373 34.3192 19.5878 32.3657 17.6343C30.4122 15.6808 27.7627 14.5833 25 14.5833ZM25 18.75C26.6576 18.75 28.2473 19.4085 29.4194 20.5806C30.5915 21.7527 31.25 23.3424 31.25 25C31.25 26.6576 30.5915 28.2473 29.4194 29.4194C28.2473 30.5915 26.6576 31.25 25 31.25C23.3424 31.25 21.7527 30.5915 20.5806 29.4194C19.4085 28.2473 18.75 26.6576 18.75 25C18.75 23.3424 19.4085 21.7527 20.5806 20.5806C21.7527 19.4085 23.3424 18.75 25 18.75Z'\n        fill='#848484'\n      />\n    </svg>\n  )\n}\n\nexport default ImageUploader\n"],"names":["ImageUploader","onFileAdded","onFileRemoved","uploadElement","height","width","background","ref","useRef","useState","currentImg","setCurrentImg","handleImageUpload","e","target","files","length","imageObject","file","dataUrl","URL","createObjectURL","oldImage","handleDeleteImage","current","value","React","styles","__content","__imgWrapper","__btnWrapper","__btn","__label","__input","__img","UploadElement","element"],"mappings":"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"}